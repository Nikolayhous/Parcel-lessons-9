{"version":3,"sources":["../app.js","index.js"],"names":["galleryItems","preview","original","description","refs","galleryUl","document","querySelector","lightbox","lightboxImage","lightboxOverlay","closeModalBtn","addEventListener","onOpenClickGallery","CloseModalBtn","onBackdropClick","createElement","map","index","join","insertAdjacentHTML","console","log","event","window","onEscKeydown","preventDefault","target","nodeName","classList","add","src","getAttribute","alt","dataset","removeEventListener","remove","currentTarget","ESC_KEY_CODE","code","onArrowLeft","onArrowRight","step","length"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["\n export const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\n// export default galleryItems;\n\n// export {galleryItems};","\r\nimport {galleryItems} from '../app.js';\r\n\r\nconst refs = {\r\n    galleryUl: document.querySelector('.js-gallery'),\r\n    lightbox: document.querySelector('.lightbox'),\r\n    lightboxImage: document.querySelector('.lightbox__image'),\r\n    lightboxOverlay: document.querySelector('.lightbox__overlay'),\r\n    closeModalBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n  };\r\n  \r\n  refs.galleryUl.addEventListener('click', onOpenClickGallery);\r\n  refs.closeModalBtn.addEventListener('click', CloseModalBtn);\r\n  refs.lightboxOverlay.addEventListener('click', onBackdropClick);\r\n  \r\n  //создал разметку галереи через метод map\r\n  // const itemCardsGallery =  createElement ();\r\n  function createElement () {\r\n  return galleryItems\r\n      .map(({ original, preview, description }, index) => {\r\n        return `\r\n      <li class = gallery__item> \r\n        <a href=\"${original}\" class = gallery__link>\r\n          <img \r\n            class = gallery__image \r\n            src=\"${preview}\" \r\n            alt= \"${description}\" \r\n            data-source='${original}'\r\n            data-index='${index}'> \r\n        </a>\r\n      </li>\r\n  `;\r\n      })\r\n      .join('');\r\n    };\r\n  refs.galleryUl.insertAdjacentHTML('beforeend', createElement());\r\n  console.log(refs.galleryUl);\r\n  \r\n  //функция на событие для просмотра изображения в модальгном окне\r\n  function onOpenClickGallery(event) {\r\n    window.addEventListener('keydown', onEscKeydown);\r\n    event.preventDefault();\r\n    if (event.target.nodeName === 'IMG') {\r\n      refs.lightbox.classList.add('is-open');\r\n      refs.lightboxImage.src = event.target.getAttribute('data-source');\r\n      refs.lightboxImage.alt = event.target.alt;\r\n      refs.lightboxImage.dataset.index = event.target.dataset.index;\r\n    }\r\n    console.log(event.target.nodeName);\r\n    // const isImagesLightboxEl = event.target.classList.contains('lightbox__image');\r\n    // if(!isImagesLightboxEl) {\r\n    //   return;\r\n    // }\r\n    //  if (event.target.nodeName === 'IMG') {\r\n    //  return;\r\n    //  }\r\n  }\r\n  \r\n  //функция для закрывания модалього окна при нажатии на кнопку\r\n  function CloseModalBtn(event) {\r\n    window.removeEventListener('keydown', onEscKeydown);\r\n    refs.lightbox.classList.remove('is-open');\r\n    refs.lightboxImage.src = '';\r\n    refs.lightboxImage.alt = '';\r\n  }\r\n  \r\n  //функция для закрывания модалього окна при нажатии на бекдроп-оверлей\r\n  function onBackdropClick(event) {\r\n    if (event.currentTarget === event.target) {\r\n      CloseModalBtn();\r\n    }\r\n  }\r\n  \r\n  //функция для закрывания модалього окна при нажатии на esc\r\n  function onEscKeydown(event) {\r\n    const ESC_KEY_CODE = \"Escape\";\r\n    if (event.code === ESC_KEY_CODE) {\r\n      CloseModalBtn();\r\n    }\r\n    console.log(event);\r\n  }\r\n  \r\n  //скрипт для перелистывания картинок клавишами вправо и влево \r\n  window.addEventListener(\"keydown\", (event) => {\r\n    if (event.code === \"ArrowLeft\") {\r\n      onArrowLeft();\r\n    }\r\n    if (event.code === \"ArrowRight\") {\r\n      onArrowRight();\r\n    }\r\n  });\r\n  \r\n  function onArrowLeft() {\r\n    let index = +refs.lightboxImage.dataset.index;\r\n    if (index === 0) {\r\n      step(galleryItems.length - 1);\r\n      return;\r\n    }\r\n    step(index, -1);\r\n  }\r\n  function onArrowRight() {\r\n    let index = +refs.lightboxImage.dataset.index;\r\n    if (index === galleryItems.length - 1) {\r\n      step(0);\r\n      return;\r\n    }\r\n    step(index, 1);\r\n  }\r\n  \r\n  function step(index, step = 0) {\r\n    refs.lightboxImage.dataset.index = `${index + step}`;\r\n    refs.lightboxImage.src = galleryItems[index + step].original;\r\n  }\r\n  "]}