{"version":3,"sources":["js/main-objects.js","js/refs-main.js"],"names":["galleryItems","preview","original","description","refs","galleryUl","document","querySelector","lightbox","lightboxImage","lightboxOverlay","closeModalBtn","createElement","map","index","join","onOpenClickGallery","event","window","addEventListener","onEscKeydown","preventDefault","target","nodeName","classList","add","src","getAttribute","alt","dataset","console","log","CloseModalBtn","removeEventListener","remove","onBackdropClick","currentTarget","code","onArrowLeft","step","length","onArrowRight","insertAdjacentHTML"],"mappings":"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","file":"refs-main.f8d98975.js","sourceRoot":"..\\src","sourcesContent":["\n\n  export const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\n\n\n// export default galleryItems;\n\n","\r\n// import *as galleryItems from '../app.js'; // забрать всё\r\nimport {galleryItems} from './main-objects.js';\r\nconst refs = {\r\n    galleryUl: document.querySelector('.js-gallery'),\r\n    lightbox: document.querySelector('.lightbox'),\r\n    lightboxImage: document.querySelector('.lightbox__image'),\r\n    lightboxOverlay: document.querySelector('.lightbox__overlay'),\r\n    closeModalBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n  };\r\n  \r\n  refs.galleryUl.addEventListener('click', onOpenClickGallery);\r\n  refs.closeModalBtn.addEventListener('click', CloseModalBtn);\r\n  refs.lightboxOverlay.addEventListener('click', onBackdropClick);\r\n  \r\n  //создал разметку галереи через метод map\r\n  // const itemCardsGallery =  createElement ();\r\n  function createElement () {\r\n  return galleryItems\r\n      .map(({ original, preview, description }, index) => {\r\n        return `\r\n      <li class = gallery__item> \r\n        <a href=\"${original}\" class = gallery__link>\r\n          <img \r\n            class = gallery__image \r\n            src=\"${preview}\" \r\n            alt= \"${description}\" \r\n            data-source='${original}'\r\n            data-index='${index}'> \r\n        </a>\r\n      </li>\r\n  `;\r\n      })\r\n      .join('');\r\n    };\r\n  refs.galleryUl.insertAdjacentHTML('beforeend', createElement());\r\n  console.log(refs.galleryUl);\r\n  \r\n  //функция на событие для просмотра изображения в модальгном окне\r\n  function onOpenClickGallery(event) {\r\n    window.addEventListener('keydown', onEscKeydown);\r\n    event.preventDefault();\r\n    if (event.target.nodeName === 'IMG') {\r\n      refs.lightbox.classList.add('is-open');\r\n      refs.lightboxImage.src = event.target.getAttribute('data-source');\r\n      refs.lightboxImage.alt = event.target.alt;\r\n      refs.lightboxImage.dataset.index = event.target.dataset.index;\r\n    }\r\n    console.log(event.target.nodeName);\r\n  }\r\n  \r\n  //функция для закрывания модалього окна при нажатии на кнопку\r\n  function CloseModalBtn(event) {\r\n    window.removeEventListener('keydown', onEscKeydown);\r\n    refs.lightbox.classList.remove('is-open');\r\n    refs.lightboxImage.src = '';\r\n    refs.lightboxImage.alt = '';\r\n  }\r\n  \r\n  //функция для закрывания модалього окна при нажатии на бекдроп-оверлей\r\n  function onBackdropClick(event) {\r\n    if (event.currentTarget === event.target) {\r\n      CloseModalBtn();\r\n    }\r\n  }\r\n  \r\n  //функция для закрывания модалього окна при нажатии на esc\r\n  function onEscKeydown(event) {\r\n    const ESC_KEY_CODE = \"Escape\";\r\n    if (event.code === ESC_KEY_CODE) {\r\n      CloseModalBtn();\r\n    }\r\n    console.log(event);\r\n  }\r\n    \r\n  //скрипт для перелистывания картинок клавишами вправо и влево \r\n  window.addEventListener(\"keydown\", (event) => {\r\n    if (event.code === \"ArrowLeft\") {\r\n      onArrowLeft();\r\n    }\r\n    if (event.code === \"ArrowRight\") {\r\n      onArrowRight();\r\n    }\r\n  });\r\n  \r\n  function onArrowLeft() {\r\n    let index = +refs.lightboxImage.dataset.index;\r\n    if (index === 0) {\r\n      step(galleryItems.length - 1);\r\n      return;\r\n    }\r\n    step(index, -1);\r\n  }\r\n  function onArrowRight() {\r\n    let index = +refs.lightboxImage.dataset.index;\r\n    if (index === galleryItems.length - 1) {\r\n      step(0);\r\n      return;\r\n    }\r\n    step(index, 1);\r\n  }\r\n  \r\n  function step(index, step = 0) {\r\n    refs.lightboxImage.dataset.index = `${index + step}`;\r\n    refs.lightboxImage.src = galleryItems[index + step].original;\r\n  }\r\n  "]}